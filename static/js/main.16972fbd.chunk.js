(this["webpackJsonpmusic-generator"]=this["webpackJsonpmusic-generator"]||[]).push([[0],{23:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n(3),r=n(2),i=n(9),o=n.n(i),l=n(14),u=n.n(l),d=n(10),j=n(11),f=n(19),m=n(12);var b=["A2","A#2","B2","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A3","A#3","B3","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A4","A#4","B4","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A5","A#5","B5","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A6","A#6","B6","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A7","A#7","B7","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7"],h=function(e){var t=e,n=["A","B","C","D","E","F","G"];return e.includes("b")&&(t="","A"!=e[0]?t+=n[n.indexOf(e[0])-1]:t+="G",t+="G",t+=e[2]),t},O=function(e,t){var n=b.indexOf(t+"3");return b.indexOf(e)-n},v=function(e,t){var n,s=[],c=function(e){var t,n=[],s=Object(m.a)(e);try{for(s.s();!(t=s.n()).done;){var c=t.value;n.push([h(c[0]),c[1]])}}catch(a){s.e(a)}finally{s.f()}return n}(e),a=Object(m.a)(c);try{for(a.s();!(n=a.n()).done;){var r=n.value;"rest"!=r[0]?s.push([O(r[0],t),r[1]]):s.push([O(c[1][0],t)])}}catch(i){a.e(i)}finally{a.f()}return s},x=function(e){for(var t=[1/8,1/4,.375,.5,.75,1],n=e,s=[],c=n,a=0;c;){for(var r=Math.trunc(c/t[a]),i=Math.floor(Math.random()*(r+1)),o=i;o>0;)s.push(t[a]),o-=1;c-=i*t[a],a+=1}return function(e){var t=0;e.forEach((function(e){t+=e})),t<n&&e.push(n-t)}(s),function(e){for(var t,n,s=e.length;0!==s;)n=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[n],e[n]=t;return e}(s)},p=["A2","A#2","B2","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A3","A#3","B3","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A4","A#4","B4","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A5","A#5","B5","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A6","A#6","B6","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A7","A#7","B7","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7"],g={none:[0,1,2,3,4,5,6,7,8,9,10,11],majorScale:[0,2,4,5,7,9,11],minorScale:[0,2,3,5,7,8,10],majorPentatonic:[0,2,4,7,9],minorPentatonic:[0,3,5,7,10],harmonicMinor:[0,2,3,5,7,8,11],harmonicMajor:[0,2,4,5,7,8,11]};function y(e){var t=function(e){var t=["majorScale","minorScale","majorPentatonic","minorPentatonic","harmonicMinor","harmonicMajor","majorScale","minorScale"],n=["C","C#","D","D#","E","F","G","G#","A","A#","B"];return{scale:"random"==e.scale?t[Math.floor(Math.random()*t.length)]:e.scale,key:"random"==e.key?n[Math.floor(Math.random()*n.length)]:e.key,bpm:"random"==e.bpm?Math.floor(40*Math.random()+90):e.bpm,selectedNotes:"None"==e.selectedNotes?null:e.selectedNotes,rest:e.rest,length:e.length}}(e),n=[],s=x(t.length),c=function(e,t){var n=new Array(t),s=e.length,c=new Array(s);if(t>s)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var a=Math.floor(Math.random()*s);n[t]=e[a in c?c[a]:a],c[a]=--s in c?c[s]:s}return n}(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[3,5],s=[],c=t+n[0],a=p.indexOf(c),r=Object(d.a)(g[e]),i=Math.abs(n[1]-n[0]),o=0;o<=i-1;)r.forEach((function(e){return r.push(e+12*o)})),o+=1;for(r.push(12*i),o=0;o<r.length;)s.push(p[a+r[o]]),o+=1;return s}(t.scale,t.key),5),a=t.selectedNotes||c;t.rest?a.push("rest"):s.forEach((function(e){n.push([a[Math.floor(Math.random()*a.length)],e])}));var r={song:n,bpm:t.bpm,details:{scale:t.scale,key:t.key}};return console.log(r),r}n(39);var N=n(8);function C(e){var t=e.song,n=Object(i.useRef)(),s=(Object(i.useRef)(),Object(i.useRef)()),c=Object(i.useRef)(),a=Object(i.useRef)(),r=Object(i.useRef)(),o=Object(i.useRef)(),l=Object(i.useRef)(),u=(new f.b).toDestination(),j=(new f.a({urls:{A1:"A1.mp3",A2:"A2.mp3"},baseUrl:"https://tonejs.github.io/audio/casio/"}).toDestination(),function(e){return 1/(e/60)});function m(e){n.current.classList.contains("playing")?(n.current.classList.remove("playing"),n.current.querySelector("i.fas").classList.remove("fa-pause"),n.current.querySelector("i.fas").classList.add("fa-play")):function(e){var t=f.d();n.current.classList.add("playing"),n.current.querySelector("i.fas").classList.remove("fa-play"),n.current.querySelector("i.fas").classList.add("fa-pause");var s=e.bpm/4;f.c.bpm.value=s;for(var c=0,a=0;c<e.song.length&&n.current.classList.contains("playing");)"rest"!=e.song[c][0]&&u.triggerAttackRelease(e.song[c][0],j(s)*e.song[c][1],t+a),a+=j(s)*e.song[c][1],c+=1}(e)}var b=function(e,t,n){var s=r.current.classList.contains("liked"),c=r.current.querySelector("i.fa-heart");s?(!function(e,t,n,s){var c=t.indexOf(e),a=Object(d.a)(t);c>-1&&a.splice(c,1),s.classList.remove("liked"),s.classList.remove("fas"),s.classList.add("far"),n(a)}(e,t,n,c),console.log(s)):(!function(e,t,n,s){s.classList.add("liked"),s.classList.remove("far"),s.classList.add("fas"),n([e].concat(Object(d.a)(t)))}(e,t,n,c),console.log(s)),console.log(t)};return Object(N.jsxs)("div",{className:"music-player-item",children:[Object(N.jsx)("div",{className:"song-number",children:Object(N.jsxs)("p",{children:[e.createdSongs.length-e.createdSongs.indexOf(e.song),"."]})}),Object(N.jsx)("div",{className:"song-name"}),Object(N.jsx)("div",{className:"play-pause-container",children:Object(N.jsx)("div",{className:"play-pause",ref:n,onClick:function(){return m(t)},children:Object(N.jsx)("button",{className:"play-pause-button",children:Object(N.jsx)("i",{className:"fas fa-play"})})})}),Object(N.jsx)("div",{className:"progress-container",ref:o,onClick:function(e){return function(e,t){var n=e,s=t,c=s/n*100;l.current.style.width="".concat(c,"%"),console.log(n,s,c)}(e.target.clientWidth,e.target.offsetX)},children:Object(N.jsx)("div",{className:"progress",ref:l})}),Object(N.jsxs)("div",{className:"song-details-container",children:[Object(N.jsxs)("div",{className:"details-i-container",ref:s,onClick:function(){s.current.classList.contains("showing")?(s.current.querySelector("i.fas").classList.remove("fa-caret-up"),s.current.querySelector("i.fas").classList.add("fa-caret-down"),s.current.classList.remove("showing"),c.current.style.display="none"):(s.current.querySelector("i.fas").classList.remove("fa-caret-down"),s.current.querySelector("i.fas").classList.add("fa-caret-up"),c.current.style.display="block",s.current.classList.add("showing"))},children:[Object(N.jsx)("input",{ref:a,type:"checkbox",className:"on-off-details"}),Object(N.jsx)("i",{className:"fas fa-caret-down"})]}),Object(N.jsxs)("div",{ref:c,className:"song-details",children:[Object(N.jsxs)("p",{children:["scale: ",t.details.scale]}),Object(N.jsxs)("p",{children:["key: ",t.details.key]})]})]}),Object(N.jsx)("div",{className:"player-menu",children:Object(N.jsxs)("div",{className:"player-menu-holder",children:[Object(N.jsx)("div",{className:"player-menu-item like-unlike",ref:r,onClick:function(){return b(t,e.likedSongs,e.setLikedSongs)},children:Object(N.jsx)("i",{className:"far fa-heart"})}),Object(N.jsx)("div",{className:"player-menu-item",onClick:function(){return function(e,t,n){var s=Object(d.a)(t),c=t.indexOf(e);c>-1&&s.splice(c,1),n(s)}(t,e.createdSongs,e.setCreatedSongs)},children:Object(N.jsx)("i",{className:"fas fa-trash"})}),Object(N.jsx)("div",{className:"player-menu-item",children:Object(N.jsx)("i",{className:"fas fa-edit"})})]})})]})}var k=n(7);function S(e){var t=e.customSettings,n=e.setCustomSettings,s=Object(i.useRef)(),c=Object(i.useRef)(),a=Object(i.useRef)(),r=Object(i.useRef)(),o=Object(i.useRef)(),l=Object(i.useRef)(),u=function(e){s.current.style.display="block",s.current.style.top=e.pageY+"px",s.current.style.left=e.pageX+"px"},d=function(){s.current.style.display="none"},j=function(){c.current.style.display="flex",a.current.style.display="none"};return Object(N.jsxs)("div",{className:"custom-settings",children:[Object(N.jsx)("div",{ref:s,className:"cursor"}),Object(N.jsxs)("div",{className:"setting-card",ref:c,onMouseMove:function(e){return u(e)},onMouseLeave:function(){return d()},onClick:function(){return c.current.style.display="none",void(a.current.style.display="flex")},children:[Object(N.jsx)("i",{className:"fas fa-cog"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Login"})," or ",Object(N.jsx)("span",{children:"Sign up for Free"})," to unlock custom settings!"]})]}),Object(N.jsxs)("div",{ref:a,className:"selectors",onMouseMove:function(e){return u(e)},onMouseLeave:function(){return d()},children:[Object(N.jsx)("label",{children:"scale : "}),Object(N.jsxs)("select",{ref:o,name:"scale",id:"scale",children:[Object(N.jsx)("option",{value:"random",children:"random"}),Object(N.jsx)("option",{value:"none",children:"None"}),Object(N.jsx)("option",{value:"majorScale",children:"Major"}),Object(N.jsx)("option",{value:"minorScale",children:"Minor"}),Object(N.jsx)("option",{value:"majorPentatonic",children:"Major Pentatonic"}),Object(N.jsx)("option",{value:"minorPentatonic",children:"Minor Pentatonic"}),Object(N.jsx)("option",{value:"harmonicMajor",children:"Harmonic Major"}),Object(N.jsx)("option",{value:"harmonicMinor",children:"Harmonic Minor"})]}),Object(N.jsx)("label",{children:"key : "}),Object(N.jsxs)("select",{ref:l,name:"key",id:"key",children:[Object(N.jsx)("option",{value:"random",children:"random"}),Object(N.jsx)("option",{value:"C",children:"C"}),Object(N.jsx)("option",{value:"C#",children:"C#"}),Object(N.jsx)("option",{value:"D",children:"D"}),Object(N.jsx)("option",{value:"D#",children:"D#"}),Object(N.jsx)("option",{value:"E",children:"E"}),Object(N.jsx)("option",{value:"F",children:"F"}),Object(N.jsx)("option",{value:"F#",children:"F#"}),Object(N.jsx)("option",{value:"G",children:"G"}),Object(N.jsx)("option",{value:"G#",children:"G#"}),Object(N.jsx)("option",{value:"A",children:"A"}),Object(N.jsx)("option",{value:"A#",children:"A#"}),Object(N.jsx)("option",{value:"B",children:"B"})]}),Object(N.jsx)("div",{ref:r,className:"apply-settings",onClick:function(){return function(){for(var e=[o.current.value,l.current.value],s=["random","random"],c=0;c<e.length;)e[c]="random"!=e[c]?e[c]:s[c],c+=1;var a=Object(k.a)({},t);a.scale=e[0],a.key=e[1],n(a),j()}()},children:Object(N.jsxs)("p",{children:[Object(N.jsx)("i",{className:"fas fa-sliders-h"})," apply settings"]})})]})]})}function A(e){var t=Object(i.useRef)(),n=function(e){t.current.querySelector(".side-menu.selected").classList.remove("selected"),t.current.querySelector(".selected-item.selected").classList.remove("selected"),t.current.querySelector(".side-menu.".concat(e)).classList.add("selected"),t.current.querySelector(".selected-item.".concat(e)).classList.add("selected")};return Object(N.jsxs)("div",{className:"laboratory",ref:t,children:[Object(N.jsxs)("section",{className:"side-bar",children:[Object(N.jsx)("div",{className:"side-menu settings selected",onClick:function(){return n("settings")},children:"Settings"}),Object(N.jsx)("div",{className:"side-menu editor",onClick:function(){return n("editor")},children:"Editor"}),Object(N.jsx)("div",{className:"side-menu tones",onClick:function(){return n("tones")},children:"Tones"}),Object(N.jsx)("div",{className:"side-menu likedSongs",onClick:function(){return n("likedSongs")},children:"Liked Songs"}),Object(N.jsx)("div",{className:"side-menu faq",children:"--"}),Object(N.jsx)("div",{className:"side-menu faq",children:"--"}),Object(N.jsxs)("div",{className:"side-menu about",children:[Object(N.jsx)("i",{className:"fas fa-building"}),"About"]}),Object(N.jsxs)("div",{className:"side-menu faq",children:[Object(N.jsx)("i",{className:"fas fa-question-circle"}),"FAQ"]})]}),Object(N.jsxs)("div",{className:"selected-menu",children:[Object(N.jsx)("div",{className:"selected-item settings selected",children:Object(N.jsx)(S,{customSettings:e.customSettings,setCustomSettings:e.setCustomSettings})}),Object(N.jsx)("div",{className:"selected-item editor",children:"aafdssd"}),Object(N.jsx)("div",{className:"selected-item tones",children:"false"}),Object(N.jsx)("div",{className:"selected-item likedSongs"})]})]})}n(23);var M=function(e,t){var n=[t[0].coordinate[0],t[0].coordinate[1]];e.fillStyle="rgb(249, 150, 51)",e.beginPath(),e.arc(t[0].coordinate[0],t[0].coordinate[1],5,0,2*Math.PI),e.fill();var s,c=Object(m.a)(t);try{for(c.s();!(s=c.n()).done;){var a=s.value;if(0!=t.indexOf(a)){var r=a.coordinate[0],i=a.coordinate[1];e.moveTo(n[0],n[1]),e.lineTo(r,i),e.stroke(),n=[r,i],e.fillStyle="rgb(249, 150, 51)",e.beginPath(),e.arc(r,i,5,0,2*Math.PI),e.fill()}}}catch(o){c.e(o)}finally{c.f()}},G=function(e){var t=Object(i.useRef)(),n=v(e.song.song,e.song.details.key);return Object(i.useEffect)((function(){var e=t.current.getContext("2d");M(e,function(e){var t,n=[],s=0,c=Object(m.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;e.indexOf(a)!=e.length-1&&(s+=a[1])}}catch(x){c.e(x)}finally{c.f()}var r,i=1e3,o=0,l=Object(m.a)(e);try{for(l.s();!(r=l.n()).done;){var u=r.value;u[0]<i&&(i=u[0]),u[0]>o&&(o=u[0])}}catch(x){l.e(x)}finally{l.f()}var d,j=230/(o-i),f=430/s,b=[20,20],h=Object(m.a)(e);try{for(h.s();!(d=h.n()).done;){var O=d.value,v=new Array(2);v[1]=300-(b[1]+(O[0]-i)*j),v[0]=b[0],b[0]+=f*O[1],n.push({note:O,coordinate:v})}}catch(x){h.e(x)}finally{h.f()}return console.log(n),n}(n))}),[M]),Object(N.jsx)("div",{className:"canvas-container",children:Object(N.jsx)("canvas",{className:"canvas",ref:t,width:"500",height:"300"})})};function D(e){return Object(N.jsx)("div",{className:"graph",children:e.songs.map((function(e){return Object(N.jsx)(G,{song:e},e.song)}))})}var L=[];function F(e){return Object(N.jsx)("div",{className:"graph",children:L.map((function(e){return Object(N.jsx)(G,{song:e.song},e.song)}))})}var E=n(59);n(41);function R(){var e=Object(i.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)({length:"4",scale:"random",key:"random",rest:!1,bpm:"random",selectedNotes:"None"}),a=Object(j.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)([]),u=Object(j.a)(l,2),f=u[0],m=u[1],b=function(){return n.length>0?n.map((function(e){return Object(N.jsx)(C,{song:e,createdSongs:n,setCreatedSongs:s,likedSongs:f,setLikedSongs:m},e.song)})):Object(N.jsx)("div",{className:"empty-player",children:Object(N.jsx)("p",{children:"Click the Generate button to create music!"})})};return Object(N.jsxs)("div",{className:"main",children:[Object(N.jsxs)("div",{className:"top-menu",children:[Object(N.jsx)("h1",{children:"Music Genarator AI"}),Object(N.jsxs)("div",{className:"top-menu-items",children:[Object(N.jsxs)("div",{className:"top-menu-item login",children:[Object(N.jsx)("i",{className:"fas fa-sign-in-alt"}),"Login"]}),Object(N.jsxs)("div",{className:"top-menu-item account",children:[Object(N.jsx)("i",{className:"fas fa-user-circle"}),"Account"]})]})]}),Object(N.jsx)("div",{className:"thin-line"}),Object(N.jsxs)("div",{className:"music",children:[Object(N.jsx)("div",{className:"laboratory-container",children:Object(N.jsx)(A,{customSettings:r,setCustomSettings:o})}),Object(N.jsxs)("div",{className:"music-player-container",children:[Object(N.jsx)("div",{className:"generator-button-container",children:Object(N.jsx)(E.a,{variant:"contained",className:"generator-button",onClick:function(){return function(e){var t=y(e);s([t].concat(Object(d.a)(n)))}(r)},children:"GENERATE"})}),Object(N.jsx)(b,{})]})]}),Object(N.jsx)(D,{songs:n}),Object(N.jsx)(F,{})]})}var q=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{className:"app",children:Object(N.jsx)(R,{})})}}]),n}(o.a.Component);u.a.render(Object(N.jsx)(q,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.16972fbd.chunk.js.map