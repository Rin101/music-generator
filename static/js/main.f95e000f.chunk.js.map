{"version":3,"sources":["js/scales.js","js/randomNotes.js","js/lengthCalc.js","js/music-player.js","js/layout.js","index.js"],"names":["scales","notes","getGeneratedList","customSettings","scale","key","lengthArr","barCount","lengths","totalLength","finalList","total","i","maxRange","Math","trunc","count","floor","random","a","push","array","finalCount","forEach","num","sumRemainder","temporaryValue","randomIndex","currentIndex","length","shuffle","lengthCalc","notesArr","res","rootKey","index","indexOf","noteIndex","findScale","rest","resList","l","console","log","MusicPlayer","props","playpause","useRef","progressContainer","progressBar","synth","Tone","toDestination","now","bpmCalc","urls","A1","A2","baseUrl","bpm","playPause","song","current","classList","contains","remove","querySelector","add","value","timeSum","triggerAttackRelease","playSong","className","ref","onClick","e","clientWidth","offsetX","width","clickX","progressPercent","style","setProgress","target","Generator","useState","createdSongs","setCreatedList","setCustomSettings","mouseCursor","settingCard","selectors","applySettingsButton","selectScale","selectKey","MusicPlayers","map","cursor","display","top","pageY","left","pageX","hideCursor","viewBox","preserveAspectRatio","d","randomBpm","theList","undefined","createSong","Button","variant","onMouseMove","onMouseLeave","name","id","list","arr","defaultValue","applySettings","App","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f95e000f.chunk.js","sourcesContent":["const majorScale = [\r\n    // \"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\", \"C\"\r\n    0, 2, 4, 5, 7, 9, 11, 12\r\n]\r\n\r\nconst scales = {\r\n    \"majorScale\": [0, 2, 4, 5, 7, 9, 11, 12]\r\n}\r\n\r\n\r\nconst notes = [\r\n    \"A2\", \"A#2\", \"B2\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \r\n    \"A3\", \"A#3\", \"B3\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\",\r\n    \"A4\", \"A#4\", \"B4\", \"C4\", //\"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\",\r\n    // \"A5\", \"A#5\", \"B5\", \"C5\",\"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\"\r\n    // \"A6\", \"A#6\", \"B6\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\",\r\n    // \"A7\", \"A#7\", \"B7\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\"\r\n]\r\n    \r\nexport function getScale(scale, key) {\r\n    const findScale = (scale, key) => {\r\n        let res = []\r\n        \r\n        const rootKey = key + \"3\"\r\n        let index = notes.indexOf(rootKey)\r\n        scales[scale].forEach(i => {\r\n            let noteIndex = index + i\r\n            res.push(notes[noteIndex])\r\n        }) \r\n        return res\r\n    }\r\n\r\n    return findScale(scale, key)\r\n}","import { lengthCalc} from './lengthCalc.js';\r\nimport { getScale } from './scales.js';\r\n\r\nexport function getGeneratedList(customSettings) {\r\n  let lengthArr = lengthCalc(customSettings.length)\r\n  let notesArr = getScale(customSettings.scale[0], customSettings.scale[1])\r\n  if (customSettings.rest == true) {\r\n    notesArr.push(\"rest\")\r\n  }\r\n\r\n  let resList = []\r\n\r\n  lengthArr.forEach(l => {\r\n    resList.push([notesArr[Math.floor(Math.random() * notesArr.length)], l])\r\n  })\r\n\r\n  console.log(resList)\r\n\r\n  return resList\r\n}\r\n","\r\nexport const lengthCalc = (barCount) => {\r\n    const lengths = [1/2, 1, 2, 1+1/2, 1/2, 1/4]\r\n    // const lengths = [8, 4, 3, 1, 2, 1, 1+1/2, 1/2, 1/4]\r\n    const lengthsdic = {\"1n\":4}\r\n\r\n    // explanation\r\n    // 8*x + 4*y + 2*z = 8\r\n    // range of x = 0 ~ 1 .  x = random(0 or 1)-> x = 0\r\n    // 4*y + 2*z = 8 - 8*x -> 4*y + 2*z = 8 . range of y = 0 ~ 2. y= random(0 or 1 or 2)-> y = 1\r\n    // 2*z = 8 - 4*y -> 2*z = 4 -> z=2 -> x=0, y=1, z=2 -> {[y, z, z]} -> randomSort([y, z, z]) -> [z, y, z]\r\n    // for num in [z, y, z] -> pick each note for num -> {A5:z, G#4:y, C5:z} (y->whole note, z->quarter note)\r\n\r\n    const totalLength = barCount*4\r\n\r\n    let finalList = []\r\n\r\n    let total = totalLength\r\n    let i = 0\r\n    while (total) {\r\n        let maxRange = Math.trunc(total/lengths[i])\r\n        let count = Math.floor(Math.random() * (maxRange+1))\r\n\r\n        let a = count\r\n        while (a > 0) {\r\n            finalList.push(lengths[i])\r\n             a -= 1\r\n        }\r\n\r\n        total -= count*lengths[i]\r\n        i += 1\r\n    }\r\n\r\n    const sumRemainder = (array) => {\r\n        let finalCount = 0\r\n        array.forEach(num => {\r\n            finalCount += num\r\n        })\r\n        if (finalCount < totalLength) {\r\n            array.push(totalLength - finalCount)\r\n        }\r\n    }\r\n\r\n    sumRemainder(finalList)\r\n\r\n\r\n    function shuffle(array) {\r\n        var currentIndex = array.length, temporaryValue, randomIndex;\r\n        while (0 !== currentIndex) {\r\n          randomIndex = Math.floor(Math.random() * currentIndex);\r\n          currentIndex -= 1;\r\n          temporaryValue = array[currentIndex];\r\n          array[currentIndex] = array[randomIndex];\r\n          array[randomIndex] = temporaryValue;\r\n        }\r\n        return array;\r\n      }\r\n\r\n    return shuffle(finalList)\r\n}\r\n\r\n\r\n// let generatedList = bpm 83\r\n//         [[\"B4\", 2],\r\n//          [\"rest\", 1],\r\n//          [\"A4\", 1.5],\r\n//          [\"A4\", 1.5],\r\n//          [\"C3\", 0.5],\r\n//          [\"rest\", 0.5],\r\n//          [\"E3\", 0.25],\r\n//          [\"E3\", 1],\r\n//          [\"E3\", 0.5],\r\n//          [\"B4\", 1],\r\n//          [\"rest\", 2],\r\n//          [\"rest\", 0.5],\r\n//          [\"F3\", 1],\r\n//          [\"F3\", 0.5],\r\n//          [\"B4\", 0.25],\r\n//          [\"rest\", 0.5],\r\n//          [\"C3\", 1.5],\r\n//          [\"E3\", 1],\r\n//          [\"F3\", 0.5],\r\n//          [\"A4\", 1.5],\r\n//          [\"G3\", 0.5],\r\n//          [\"rest\", 0.5]]","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as Tone from 'tone';\r\n// material-ui\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport function MusicPlayer(props) {\r\n\r\n    const playpause = useRef()\r\n    // create these functions in different js file\r\n    const progressContainer = useRef()\r\n    const progressBar = useRef()\r\n    // traversy media\r\n    // progressPercent = (currentTime/songLength) * 100\r\n    // progressBar.style.width = progressPercent\r\n    // ================================================\r\n    const synth = new Tone.Synth().toDestination()\r\n    const now = Tone.now()\r\n\r\n    const sampler = new Tone.Sampler({\r\n        urls: {\r\n            A1: \"A1.mp3\",\r\n            A2: \"A2.mp3\",\r\n        },\r\n        baseUrl: \"https://tonejs.github.io/audio/casio/\",\r\n    }).toDestination();\r\n    \r\n    const checkSound = () => {\r\n        // synth.triggerAttackRelease(\"8n\", 1)\r\n        sampler.triggerAttackRelease(\"C3\", \"8n\", now)\r\n        sampler.triggerAttackRelease(\"C4\", \"8n\", now+1)\r\n    }\r\n\r\n    // ===================================================-\r\n   \r\n    const bpmCalc = (bpm) => {\r\n        const timeForEachBeat = 1/(bpm/60)\r\n        // const timeForEachBeat = Math.round(1/(bpm/60) * 1000) / 1000\r\n        return timeForEachBeat\r\n    }\r\n\r\n    const calcSongLength= (bpm) =>{\r\n        const totalBeat = 8*4\r\n        let songLength = totalBeat * (1/(bpm/60))\r\n\r\n        let currentBeat = 0\r\n        let songProgress = (currentBeat/totalBeat)*100\r\n\r\n        // let songTime = songLength  -> progressBar goes to 0 ~ 100% in songTime seconds\r\n\r\n        return songLength\r\n\r\n    }\r\n\r\n    // ====================================================-\r\n\r\n    const ring = (song) => {\r\n\r\n        let bpm = Math.floor(Math.random() * (150 - 80) + 80)\r\n        Tone.Transport.bpm.value = bpm\r\n        \r\n        let i = 0\r\n        let timeSum = 0\r\n        while (i < song.length && playpause.current.className == \"play-pause play\") {\r\n            if (song[i][0] != \"rest\") {\r\n                synth.triggerAttackRelease(song[i][0], (bpmCalc(bpm))*song[i][1], now+timeSum)\r\n                // sampler.triggerAttackRelease(song[i][0], (bpmCalc(bpm))*song[i][1], now+timeSum)\r\n            }\r\n            timeSum += (bpmCalc(bpm))*song[i][1]\r\n            i += 1\r\n        }\r\n\r\n    }\r\n\r\n    // ===========implementing play pause function=======\r\n\r\n    function playSong(song) {\r\n        playpause.current.classList.add(\"playing\")\r\n        playpause.current.querySelector(\"i.fas\").classList.remove(\"fa-play\")\r\n        playpause.current.querySelector(\"i.fas\").classList.add(\"fa-pause\")\r\n\r\n        let bpm = Math.floor(Math.random() * (150 - 80) + 80)\r\n        Tone.Transport.bpm.value = bpm\r\n        let i = 0\r\n        let timeSum = 0\r\n        while (i < song.length && playpause.current.classList.contains(\"playing\")) {\r\n            if (song[i][0] != \"rest\") {\r\n                synth.triggerAttackRelease(song[i][0], (bpmCalc(bpm))*song[i][1], now+timeSum)\r\n                // sampler.triggerAttackRelease(song[i][0], (bpmCalc(bpm))*song[i][1], now+timeSum)\r\n            } \r\n            timeSum += (bpmCalc(bpm))*song[i][1]\r\n            i += 1\r\n        }\r\n        // while (playpause.current.classList.contains(\"playing\")) {\r\n            // song.map(s => {\r\n            //     synth.triggerAttackRelease(s[0], (bpmCalc(bpm))*s[1], now+timeSum)\r\n            //     timeSum += (bpmCalc(bpm))*s[1]\r\n            // })\r\n        // }\r\n    }\r\n\r\n    function pauseSong() {\r\n        playpause.current.classList.remove(\"playing\")\r\n        playpause.current.querySelector(\"i.fas\").classList.remove(\"fa-pause\")\r\n        playpause.current.querySelector(\"i.fas\").classList.add(\"fa-play\")\r\n    }\r\n\r\n    function playPause(song) {\r\n        const isPlaying = playpause.current.classList.contains('playing')\r\n        if (isPlaying) {\r\n            pauseSong()\r\n        }\r\n        else {\r\n            playSong(song)\r\n        }\r\n    }\r\n\r\n    // ======= progresss bar===========\r\n\r\n    // function updateProgress(e) {\r\n    //     const { duration, currentTime } = e.srcElement;\r\n    //     const progressPercent = (currentTime / duration) * 100;\r\n    //     progress.style.width = `${progressPercent}%`;\r\n    // }\r\n    \r\n    // Set progress bar\r\n    function setProgress(clientWidth, offsetX) {\r\n        const width = clientWidth;\r\n        const clickX = offsetX;\r\n        const progressPercent = (clickX/width)*100\r\n        progressBar.current.style.width = `${progressPercent}%`;\r\n\r\n        console.log(width, clickX, progressPercent)\r\n        // const duration = audio.duration;\r\n        \r\n        // audio.currentTime = (clickX / width) * duration;\r\n    }\r\n\r\n    // // Time/song update\r\n    // audio.addEventListener('timeupdate', updateProgress);\r\n\r\n    // // Click on progress bar\r\n    // progressContainer.addEventListener('click', setProgress);\r\n\r\n    // // Song ends\r\n    // audio.addEventListener('ended', nextSong);\r\n\r\n    // // Time of song\r\n    // audio.addEventListener('timeupdate',DurTime);\r\n\r\n\r\n    return (\r\n        <div className=\"music-player\">\r\n            <div className=\"play-pause-container\">\r\n                <div className=\"play-pause\" ref={ playpause } onClick={() => playPause(props.song)}>\r\n                    <button className=\"play-pause-button\"><i className=\"fas fa-play\"></i></button>\r\n                    {/* <button className=\"play-pause play\" ref={ playpause } onClick={() => ring(props.song)}><i className=\"fas fa-play\"></i></button> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"progress-container\" ref={ progressContainer } onClick={(e) => setProgress(e.target.clientWidth, e.target.offsetX)}>\r\n                <div className=\"progress\" ref={ progressBar }></div>\r\n            </div>\r\n            <button className=\"like-unlike unliked\"><i className=\"far fa-heart\"></i></button>\r\n        </div>\r\n        // <div className=\"music-player\">\r\n        //     <div className=\"navigation\">\r\n        //         <button id=\"prev\" className=\"action-btn\"><i className=\"fas fa-backward\"></i></button>\r\n        //         <button id=\"play\" className=\"play-pause play action-btn action-btn-big\" onClick={() => ring(props.song)}><i className=\"fas fa-play\"></i></button>\r\n        //         {/* <i class=\"fas fa-pause\"></i> */}\r\n        //         <button id=\"next\" className=\"action-btn\"><i className=\"fas fa-forward\" onClick={() => checkSound()}></i></button>\r\n        //     </div>\r\n        //     <div className=\"progress-container\">\r\n        //         <div className=\"progress\" ref={ progressBar }></div>\r\n        //     </div>\r\n        //     <button className=\"like-unlike unliked\"><i className=\"far fa-heart\"></i></button>\r\n        //     {/* <i class=\"fas fa-heart\"></i> */}\r\n        // </div>\r\n    )\r\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as Tone from 'tone';\r\n//  import from file\r\nimport { getGeneratedList } from './randomNotes';\r\nimport { MusicPlayer } from './music-player'\r\n// material-ui\r\nimport Button from '@material-ui/core/Button'\r\n\r\n\r\n// ---------\r\n\r\nexport function Generator() {\r\n\r\n    const [createdSongs, setCreatedList] = useState([])\r\n    const [customSettings, setCustomSettings] = useState({\"length\": \"4\", \"scale\": [\"majorScale\",\"C\"], \"rest\": false})\r\n\r\n    const mouseCursor = useRef()\r\n    const settingCard = useRef()\r\n    const selectors = useRef()\r\n    const applySettingsButton = useRef()\r\n    const selectScale = useRef()\r\n    const selectKey = useRef()\r\n\r\n    const createSong = (customSettings) => {\r\n\r\n        let randomBpm = Math.floor(Math.random() * (150 - 70) + 70)\r\n        Tone.Transport.bpm.value = randomBpm\r\n\r\n        let theList = getGeneratedList(customSettings)\r\n        if (createdSongs === undefined || createdSongs.length == 0) {\r\n            setCreatedList([theList])   \r\n        } else {\r\n            setCreatedList([theList, ...createdSongs])\r\n            console.log(createdSongs)\r\n        }\r\n        console.log(createdSongs)\r\n    }\r\n\r\n    const MusicPlayers = () => {\r\n        if (createdSongs.length > 0) {\r\n            return (\r\n                createdSongs.map(song => {\r\n                    return (\r\n                        <MusicPlayer song={song} key={song}></MusicPlayer>\r\n            )}))\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    const cursor = (e) => {\r\n        mouseCursor.current.style.display = \"block\"\r\n        mouseCursor.current.style.top = e.pageY + \"px\"\r\n        mouseCursor.current.style.left = e.pageX + \"px\"\r\n    }\r\n\r\n    const hideCursor = () => {\r\n        mouseCursor.current.style.display = \"none\"\r\n    }\r\n\r\n    const showSelectors = () => {\r\n        settingCard.current.style.display = \"none\"\r\n        selectors.current.style.display = \"flex\"\r\n    }\r\n\r\n    const applySettings = () => {\r\n        let list = [selectScale.current.value, selectKey.current.value]\r\n        let arr = [\"scale\", \"key\"]\r\n        let defaultValue = [\"majorScale\", \"C\"]\r\n        let i = 0\r\n        while (i < arr.length) {\r\n            arr[i] = (list[i] != \"None\") ? list[i] : defaultValue[i]\r\n            i += 1\r\n        }\r\n        setCustomSettings({\"scale\": [selectScale.current.value, selectKey.current.value]})\r\n    }\r\n\r\n    return (\r\n        <div className=\"generator\">\r\n\r\n            <div ref={ mouseCursor } className=\"cursor\"></div>\r\n            <section className=\"top-image\">\r\n                <h1>Music Genarator AI</h1>\r\n            </section>\r\n            <section className=\"thin-line\"></section>\r\n\r\n            <section className=\"content\">\r\n                <div className=\"side-bar\">\r\n                    <div className=\"side-menu-container\">\r\n                        <div className=\"menu-bar\"><i className=\"fas fa-bars\"></i></div>\r\n                        <div className=\"side-menu account\"><i className=\"fas fa-user-circle\"></i>Account</div>\r\n                        <div className=\"side-menu login\"><i className=\"fas fa-sign-in-alt\"></i>Login</div>\r\n                        <div className=\"side-menu about\"><i className=\"fas fa-building\"></i>About</div>\r\n                        <div className=\"side-menu faq\"><i className=\"fas fa-question-circle\"></i>FAQ</div>\r\n                    </div>\r\n                    <div className=\"border-svg\">\r\n                        <div className=\"svg-container\">\r\n                            <svg viewBox=\"0 0 500 500\" preserveAspectRatio=\"xMinYMin meet\">\r\n                                <path d=\"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z\"></path>\r\n                            </svg>\r\n                        </div>\r\n                        {/* <div className=\"svg-container-overlay\">\r\n                            <svg viewBox=\"0 0 500 500\" preserveAspectRatio=\"xMinYMin meet\">\r\n                            <path d=\"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z\"></path>\r\n                            </svg>\r\n                        </div> */}\r\n                        {/* <div className=\"original-svg-container\">\r\n                            <svg viewBox=\"0 0 500 500\" preserveAspectRatio=\"xMinYMin meet\">\r\n                                <path d=\"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z\"></path>\r\n                            </svg>\r\n                        </div> */}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div className=\"empty-side-bar\"></div> */}\r\n\r\n                <div className=\"music\">\r\n                    <div className=\"generator-button-container\" onClick={() => createSong(customSettings)}>\r\n                        <Button variant=\"contained\" className=\"generator-button\">\r\n                            GENERATE\r\n                        </Button>\r\n                    </div>\r\n                    {/* <div className=\"generator-button-container\" onClick={() => createSong()}>\r\n                        <Button variant=\"contained\" className=\"generator-button2\">\r\n                            GENERATE\r\n                        </Button>\r\n                    </div> */}\r\n\r\n                    <div className=\"music-player-container\">\r\n                        <MusicPlayers></MusicPlayers>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"custom-settings\">\r\n                    <div className=\"setting-card\" ref={settingCard} onMouseMove={(e) => cursor(e)} onMouseLeave={() => hideCursor()} onClick={() => showSelectors()}>\r\n                        <i className=\"fas fa-cog\"></i>\r\n                    </div>\r\n                    <div ref={selectors} className=\"selectors\" onMouseMove={(e) => cursor(e)} onMouseLeave={() => hideCursor()}>\r\n                        <label>scale : </label>\r\n                        <select ref={ selectScale } name=\"scale\" id=\"scale\">\r\n                            <option value=\"None\">None</option>\r\n                            <option value=\"Major\">Major</option>\r\n                            <option value=\"Minor\">Minor</option>\r\n                            <option value=\"Major Pentatonic\">Major Pentatonic</option>\r\n                            <option value=\"Minor Pentatonic\">Minor Pentatonic</option>\r\n                        </select>\r\n                        <label>key : </label>\r\n                        <select ref={ selectKey } name=\"key\" id=\"key\">\r\n                            <option value=\"None\">None</option>\r\n                            <option value=\"C\">C</option>\r\n                            <option value=\"C#\">C#</option>\r\n                            <option value=\"D\">D</option>\r\n                            <option value=\"D#\">D#</option>\r\n                            <option value=\"E\">E</option>\r\n                            <option value=\"F\">F</option>\r\n                            <option value=\"F#\">F#</option>\r\n                            <option value=\"G\">G</option>\r\n                            <option value=\"G#\">G#</option>\r\n                            <option value=\"A\">A</option>\r\n                            <option value=\"A#\">A#</option>\r\n                            <option value=\"B\">B</option>\r\n                        </select>\r\n\r\n                        <div ref={ applySettingsButton } className=\"apply-settings\" onClick={() => applySettings()}>\r\n                            <p><i className=\"fas fa-sliders-h\"></i> apply settings</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </div>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// css\r\nimport './css/index.css';\r\nimport './css/music-player.css';\r\nimport './css/media-query.css';\r\n//  import from file\r\nimport { Generator } from './js/layout'\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  render() {\r\n    return(\r\n      <div className=\"app\">\r\n        <Generator />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// ========================================\r\n// ====  USE STRICTMODE?     ======================\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// ReactDOM.render(\r\n//   <React.StrictMode>\r\n//     <App />\r\n//   </React.StrictMode>,\r\n//   document.getElementById('root')\r\n// );\r\n\r\n"],"sourceRoot":""}