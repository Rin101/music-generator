(this["webpackJsonpmusic-generator"]=this["webpackJsonpmusic-generator"]||[]).push([[0],{38:function(e,s,t){},40:function(e,s,t){},45:function(e,s,t){"use strict";t.r(s);var n=t(0),c=t(1),a=t(3),r=t(2),i=t(8),o=t.n(i),l=t(16),j=t.n(l),u=t(10),d=t(11),m=t(19),b=["A2","A#2","B2","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A3","A#3","B3","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A4","A#4","B4","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A5","A#5","B5","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A6","A#6","B6","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A7","A#7","B7","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7"],f={none:[0,1,2,3,4,5,6,7,8,9,10,11],majorScale:[0,2,4,5,7,9,11],minorScale:[0,2,3,5,7,8,10],majorPentatonic:[0,2,4,7,9],minorPentatonic:[0,3,5,7,10],harmonicMinor:[0,2,3,5,7,8,11],harmonicMajor:[0,2,4,5,7,8,11]};function h(e){var s=function(e){var s=["majorScale","minorScale","majorPentatonic","minorPentatonic","harmonicMinor","harmonicMajor","majorScale","minorScale"],t=["C","C#","D","D#","E","F","G","G#","A","A#","B"];return{scale:"random"==e.scale?s[Math.floor(Math.random()*s.length)]:e.scale,key:"random"==e.key?t[Math.floor(Math.random()*t.length)]:e.key,bpm:"random"==e.bpm?Math.floor(80*Math.random()+70):e.bpm,selectedNotes:"None"==e.selectedNotes?null:e.selectedNotes,rest:e.rest,length:e.length}}(e),t=[],n=function(e){for(var s=[.5,1,2,1.5,.5,1,1/4],t=4*e,n=[],c=t,a=0;c;){for(var r=Math.trunc(c/s[a]),i=Math.floor(Math.random()*(r+1)),o=i;o>0;)n.push(s[a]),o-=1;c-=i*s[a],a+=1}return function(e){var s=0;e.forEach((function(e){s+=e})),s<t&&e.push(t-s)}(n),function(e){for(var s,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),s=e[n-=1],e[n]=e[t],e[t]=s;return e}(n)}(s.length),c=s.selectedNotes||function(e,s){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[3,4],n=[],c=s+t[0],a=b.indexOf(c),r=Object(u.a)(f[e]),i=Math.abs(t[1]-t[0]),o=0;o<=i-1;)r.forEach((function(e){return r.push(e+12*o)})),o+=1;for(r.push(12*i),o=0;o<r.length;)n.push(b[a+r[o]]),o+=1;return n}(s.scale,s.key);s.rest?c.push("rest"):n.forEach((function(e){t.push([c[Math.floor(Math.random()*c.length)],e])}));var a={song:t,bpm:s.bpm,details:{scale:s.scale,key:s.key}};return console.log(a),a}t(38);var O=t(9);function v(e){var s=e.song,t=Object(i.useRef)(),n=(Object(i.useRef)(),Object(i.useRef)()),c=Object(i.useRef)(),a=Object(i.useRef)(),r=Object(i.useRef)(),o=Object(i.useRef)(),l=Object(i.useRef)(),j=(new m.b).toDestination(),d=(new m.a({urls:{A1:"A1.mp3",A2:"A2.mp3"},baseUrl:"https://tonejs.github.io/audio/casio/"}).toDestination(),function(e){return 1/(e/60)});function b(e){t.current.classList.contains("playing")?(t.current.classList.remove("playing"),t.current.querySelector("i.fas").classList.remove("fa-pause"),t.current.querySelector("i.fas").classList.add("fa-play")):function(e){var s=m.d();t.current.classList.add("playing"),t.current.querySelector("i.fas").classList.remove("fa-play"),t.current.querySelector("i.fas").classList.add("fa-pause");var n=e.bpm;m.c.bpm.value=n;for(var c=0,a=0;c<e.song.length&&t.current.classList.contains("playing");)"rest"!=e.song[c][0]&&j.triggerAttackRelease(e.song[c][0],d(n)*e.song[c][1],s+a),a+=d(n)*e.song[c][1],c+=1}(e)}var f=function(e,s,t){var n=r.current.classList.contains("liked"),c=r.current.querySelector("i.fa-heart");n?(!function(e,s,t,n){var c=s.indexOf(e),a=Object(u.a)(s);c>-1&&a.splice(c,1),n.classList.remove("liked"),n.classList.remove("fas"),n.classList.add("far"),t(a)}(e,s,t,c),console.log(n)):(!function(e,s,t,n){n.classList.add("liked"),n.classList.remove("far"),n.classList.add("fas"),t([e].concat(Object(u.a)(s)))}(e,s,t,c),console.log(n)),console.log(s)};return Object(O.jsxs)("div",{className:"music-player-item",children:[Object(O.jsx)("div",{class:"song-number",children:Object(O.jsxs)("p",{children:[e.createdSongs.length-e.createdSongs.indexOf(e.song),"."]})}),Object(O.jsx)("div",{class:"song-name"}),Object(O.jsx)("div",{className:"play-pause-container",children:Object(O.jsx)("div",{className:"play-pause",ref:t,onClick:function(){return b(s)},children:Object(O.jsx)("button",{className:"play-pause-button",children:Object(O.jsx)("i",{className:"fas fa-play"})})})}),Object(O.jsx)("div",{className:"progress-container",ref:o,onClick:function(e){return function(e,s){var t=e,n=s,c=n/t*100;l.current.style.width="".concat(c,"%"),console.log(t,n,c)}(e.target.clientWidth,e.target.offsetX)},children:Object(O.jsx)("div",{className:"progress",ref:l})}),Object(O.jsxs)("div",{className:"song-details-container",children:[Object(O.jsxs)("div",{className:"details-i-container",ref:n,onClick:function(){n.current.classList.contains("showing")?(n.current.querySelector("i.fas").classList.remove("fa-caret-up"),n.current.querySelector("i.fas").classList.add("fa-caret-down"),n.current.classList.remove("showing"),c.current.style.display="none"):(n.current.querySelector("i.fas").classList.remove("fa-caret-down"),n.current.querySelector("i.fas").classList.add("fa-caret-up"),c.current.style.display="block",n.current.classList.add("showing"))},children:[Object(O.jsx)("input",{ref:a,type:"checkbox",className:"on-off-details"}),Object(O.jsx)("i",{className:"fas fa-caret-down"})]}),Object(O.jsxs)("div",{ref:c,className:"song-details",children:[Object(O.jsxs)("p",{children:["scale: ",s.details.scale]}),Object(O.jsxs)("p",{children:["key: ",s.details.key]})]})]}),Object(O.jsx)("div",{className:"player-menu",children:Object(O.jsxs)("div",{className:"player-menu-holder",children:[Object(O.jsx)("div",{className:"player-menu-item like-unlike",ref:r,onClick:function(){return f(s,e.likedSongs,e.setLikedSongs)},children:Object(O.jsx)("i",{className:"far fa-heart"})}),Object(O.jsx)("div",{className:"player-menu-item",onClick:function(){return function(e,s,t){var n=Object(u.a)(s),c=s.indexOf(e);c>-1&&n.splice(c,1),t(n)}(s,e.createdSongs,e.setCreatedSongs)},children:Object(O.jsx)("i",{className:"fas fa-trash"})}),Object(O.jsx)("div",{className:"player-menu-item",children:Object(O.jsx)("i",{className:"fas fa-edit"})})]})})]})}var p=t(7);function x(e){var s=e.customSettings,t=e.setCustomSettings,n=Object(i.useRef)(),c=Object(i.useRef)(),a=Object(i.useRef)(),r=Object(i.useRef)(),o=Object(i.useRef)(),l=Object(i.useRef)(),j=function(e){n.current.style.display="block",n.current.style.top=e.pageY+"px",n.current.style.left=e.pageX+"px"},u=function(){n.current.style.display="none"},d=function(){c.current.style.display="flex",a.current.style.display="none"};return Object(O.jsxs)("div",{className:"custom-settings",children:[Object(O.jsx)("div",{ref:n,className:"cursor"}),Object(O.jsx)("div",{className:"setting-card",ref:c,onMouseMove:function(e){return j(e)},onMouseLeave:function(){return u()},onClick:function(){return c.current.style.display="none",void(a.current.style.display="flex")},children:Object(O.jsx)("i",{className:"fas fa-cog"})}),Object(O.jsxs)("div",{ref:a,className:"selectors",onMouseMove:function(e){return j(e)},onMouseLeave:function(){return u()},children:[Object(O.jsx)("label",{children:"scale : "}),Object(O.jsxs)("select",{ref:o,name:"scale",id:"scale",children:[Object(O.jsx)("option",{value:"random",children:"random"}),Object(O.jsx)("option",{value:"none",children:"None"}),Object(O.jsx)("option",{value:"majorScale",children:"Major"}),Object(O.jsx)("option",{value:"minorScale",children:"Minor"}),Object(O.jsx)("option",{value:"majorPentatonic",children:"Major Pentatonic"}),Object(O.jsx)("option",{value:"minorPentatonic",children:"Minor Pentatonic"}),Object(O.jsx)("option",{value:"harmonicMajor",children:"Harmonic Major"}),Object(O.jsx)("option",{value:"harmonicMinor",children:"Harmonic Minor"})]}),Object(O.jsx)("label",{children:"key : "}),Object(O.jsxs)("select",{ref:l,name:"key",id:"key",children:[Object(O.jsx)("option",{value:"random",children:"random"}),Object(O.jsx)("option",{value:"C",children:"C"}),Object(O.jsx)("option",{value:"C#",children:"C#"}),Object(O.jsx)("option",{value:"D",children:"D"}),Object(O.jsx)("option",{value:"D#",children:"D#"}),Object(O.jsx)("option",{value:"E",children:"E"}),Object(O.jsx)("option",{value:"F",children:"F"}),Object(O.jsx)("option",{value:"F#",children:"F#"}),Object(O.jsx)("option",{value:"G",children:"G"}),Object(O.jsx)("option",{value:"G#",children:"G#"}),Object(O.jsx)("option",{value:"A",children:"A"}),Object(O.jsx)("option",{value:"A#",children:"A#"}),Object(O.jsx)("option",{value:"B",children:"B"})]}),Object(O.jsx)("div",{ref:r,className:"apply-settings",onClick:function(){return function(){for(var e=[o.current.value,l.current.value],n=["random","random"],c=0;c<e.length;)e[c]="random"!=e[c]?e[c]:n[c],c+=1;var a=Object(p.a)({},s);a.scale=e[0],a.key=e[1],t(a),d()}()},children:Object(O.jsxs)("p",{children:[Object(O.jsx)("i",{className:"fas fa-sliders-h"})," apply settings"]})})]})]})}t(12);function g(){var e=Object(i.useRef)();Object(i.useRef)();return Object(O.jsxs)("section",{className:"side-bar",ref:e,children:[Object(O.jsx)("div",{className:"side-menu account",children:"Settings"}),Object(O.jsx)("div",{className:"side-menu login",children:"Editor"}),Object(O.jsx)("div",{className:"side-menu about",children:"Tones"}),Object(O.jsx)("div",{className:"side-menu faq",children:"Liked Songs"}),Object(O.jsx)("div",{className:"side-menu faq",children:"--"}),Object(O.jsx)("div",{className:"side-menu faq",children:"--"}),Object(O.jsx)("div",{className:"side-menu faq",children:"--"}),Object(O.jsxs)("div",{className:"side-menu about",children:[Object(O.jsx)("i",{className:"fas fa-building"}),"About"]}),Object(O.jsxs)("div",{className:"side-menu faq",children:[Object(O.jsx)("i",{className:"fas fa-question-circle"}),"FAQ"]})]})}var y=t(58);t(40);function N(){var e=Object(i.useState)([]),s=Object(d.a)(e,2),t=s[0],n=s[1],c=Object(i.useState)({length:"2",scale:"random",key:"random",rest:!1,bpm:"random",selectedNotes:"None"}),a=Object(d.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)([]),j=Object(d.a)(l,2),m=j[0],b=j[1],f=function(){return t.length>0?t.map((function(e){return Object(O.jsx)(v,{song:e,createdSongs:t,setCreatedSongs:n,likedSongs:m,setLikedSongs:b},e.song)})):Object(O.jsx)("div",{className:"empty-player",children:Object(O.jsx)("p",{children:"Click the Generate button to create music!"})})};return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsxs)("div",{className:"top-menu",children:[Object(O.jsx)("h1",{children:"Music Genarator AI"}),Object(O.jsxs)("div",{className:"top-menu-items",children:[Object(O.jsxs)("div",{className:"top-menu-item account",children:[Object(O.jsx)("i",{className:"fas fa-user-circle"}),"Account"]}),Object(O.jsxs)("div",{className:"top-menu-item login",children:[Object(O.jsx)("i",{className:"fas fa-sign-in-alt"}),"Login"]})]})]}),Object(O.jsx)("div",{className:"thin-line"}),Object(O.jsxs)("div",{className:"music",children:[Object(O.jsx)(g,{}),Object(O.jsxs)("div",{className:"laboratory",children:[Object(O.jsx)("div",{className:"generator-button-container",children:Object(O.jsx)(y.a,{variant:"contained",className:"generator-button",onClick:function(){return function(e){var s=h(e);n([s].concat(Object(u.a)(t)))}(r)},children:"GENERATE"})}),Object(O.jsx)("div",{className:"settings-container",children:Object(O.jsx)(x,{customSettings:r,setCustomSettings:o})})]}),Object(O.jsx)("div",{className:"music-player-container",children:Object(O.jsx)(f,{})})]})]})}var k=function(e){Object(a.a)(t,e);var s=Object(r.a)(t);function t(){return Object(n.a)(this,t),s.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"app",children:Object(O.jsx)(N,{})})}}]),t}(o.a.Component);j.a.render(Object(O.jsx)(k,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.bd33e8b9.chunk.js.map